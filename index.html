<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ticker</title>
  <style>
    html, body {
      margin:0;
      padding:0;
      overflow:hidden;
    }

    /* Barra fija */
    #ticker-container {
      overflow: hidden;
      background: #14282d;  /* azul petróleo */
      color: #e0e1dd;       /* gris claro */
      height: 40px;
      line-height: 40px;
      font-family:"Open Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      font-size:13px;
    }

    /* Track con dos segmentos, desplazado por JS */
    #ticker-track {
      display: inline-flex;
      white-space: nowrap;
      will-change: transform;
      transform: translateX(0);
    }

    .ticker-segment {
      display: inline-block;
      white-space: nowrap;
    }

    .ticker-item {
      display:inline-block;
      margin:0 25px;
      font-weight:bold;
    }
    .ticker-up   { color:#00d26a; }
    .ticker-down { color:#ff3b3b; }
    .ticker-flat { color:#ffd400; }

    @media (max-width: 768px) {
      #ticker-container { height: 32px; line-height: 32px; font-size:12px; }
      .ticker-item { margin: 0 18px; }
    }
  </style>
</head>
<body>
  <div id="ticker-container">
    <div id="ticker-track">
      <div id="ticker-seg1" class="ticker-segment">Cargando datos...</div>
      <div id="ticker-seg2" class="ticker-segment"></div>
    </div>
  </div>

  <script>
  // Velocidad en píxeles por frame (se ajusta dinámicamente más abajo)
  let speed = 0.8; // base; se recalibra tras medir ancho
  let pos = 0;     // posición actual del track
  let seg1Width = 0;
  let rafId = null;

  async function loadTicker() {
    try {
      const res = await fetch("https://ticker.maurorojasbiz.workers.dev/");
      const data = await res.json();

      const seg1 = document.getElementById("ticker-seg1");
      const seg2 = document
